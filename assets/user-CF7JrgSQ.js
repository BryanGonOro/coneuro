import{r as u,a as N,g as A,s as P,_ as c,b as H,c as $,j as o,f as S,h as z,p as L,a2 as $e,R as X,a3 as Me,Q as re,a4 as Le,l as U,a5 as ye,n as ne,G as de,a6 as Ne,a7 as Ae,B as Y,e as q,I as F,P as He,M as ze,m as ue,a8 as Ce,a9 as Pe,V as _e,a1 as De,aa as pe,y as Ue,i as Fe,ab as Oe,S as Ee,ac as V,ad as We,H as Ge,ae as Ke}from"./index-CIXE6jmt.js";import{C as Qe}from"./config-global-C9pmGN6P.js";import{C as je}from"./Checkbox-B-MTr_pW.js";import{S as Je,O as Ve}from"./Select-BQRdry8i.js";import{C as Xe}from"./Card-D95eYuRu.js";import{F as qe,L as Ye}from"./LastPage-DpUL20Zi.js";const Re=u.createContext();function Ze(e){return N("MuiTable",e)}A("MuiTable",["root","stickyHeader"]);const et=["className","component","padding","size","stickyHeader"],tt=e=>{const{classes:t,stickyHeader:s}=e;return z({root:["root",s&&"stickyHeader"]},Ze,t)},ot=P("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>c({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":c({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),ge="table",st=u.forwardRef(function(t,s){const n=H({props:t,name:"MuiTable"}),{className:r,component:a=ge,padding:i="normal",size:l="medium",stickyHeader:p=!1}=n,h=$(n,et),d=c({},n,{component:a,padding:i,size:l,stickyHeader:p}),f=tt(d),y=u.useMemo(()=>({padding:i,size:l,stickyHeader:p}),[i,l,p]);return o.jsx(Re.Provider,{value:y,children:o.jsx(ot,c({as:a,role:a===ge?null:"table",ref:s,className:S(f.root,r),ownerState:d},h))})}),Z=u.createContext();function at(e){return N("MuiTableBody",e)}A("MuiTableBody",["root"]);const nt=["className","component"],rt=e=>{const{classes:t}=e;return z({root:["root"]},at,t)},lt=P("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),it={variant:"body"},be="tbody",ct=u.forwardRef(function(t,s){const n=H({props:t,name:"MuiTableBody"}),{className:r,component:a=be}=n,i=$(n,nt),l=c({},n,{component:a}),p=rt(l);return o.jsx(Z.Provider,{value:it,children:o.jsx(lt,c({className:S(p.root,r),as:a,ref:s,role:a===be?null:"rowgroup",ownerState:l},i))})});function dt(e){return N("MuiTableContainer",e)}A("MuiTableContainer",["root"]);const ut=["className","component"],pt=e=>{const{classes:t}=e;return z({root:["root"]},dt,t)},gt=P("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),bt=u.forwardRef(function(t,s){const n=H({props:t,name:"MuiTableContainer"}),{className:r,component:a="div"}=n,i=$(n,ut),l=c({},n,{component:a}),p=pt(l);return o.jsx(gt,c({ref:s,as:a,className:S(p.root,r),ownerState:l},i))});function xt(e){return N("MuiTableCell",e)}const ht=A("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ft=["align","className","component","padding","scope","size","sortDirection","variant"],mt=e=>{const{classes:t,variant:s,align:n,padding:r,size:a,stickyHeader:i}=e,l={root:["root",s,i&&"stickyHeader",n!=="inherit"&&`align${L(n)}`,r!=="normal"&&`padding${L(r)}`,`size${L(a)}`]};return z(l,xt,t)},vt=P("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[s.variant],t[`size${L(s.size)}`],s.padding!=="normal"&&t[`padding${L(s.padding)}`],s.align!=="inherit"&&t[`align${L(s.align)}`],s.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>c({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?$e(X(e.palette.divider,1),.88):Me(X(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${ht.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),I=u.forwardRef(function(t,s){const n=H({props:t,name:"MuiTableCell"}),{align:r="inherit",className:a,component:i,padding:l,scope:p,size:h,sortDirection:d,variant:f}=n,y=$(n,ft),g=u.useContext(Re),m=u.useContext(Z),M=m&&m.variant==="head";let x;i?x=i:x=M?"th":"td";let b=p;x==="td"?b=void 0:!b&&M&&(b="col");const j=f||m&&m.variant,k=c({},n,{align:r,component:x,padding:l||(g&&g.padding?g.padding:"normal"),size:h||(g&&g.size?g.size:"medium"),sortDirection:d,stickyHeader:j==="head"&&g&&g.stickyHeader,variant:j}),_=mt(k);let R=null;return d&&(R=d==="asc"?"ascending":"descending"),o.jsx(vt,c({as:x,ref:s,className:S(_.root,a),"aria-sort":R,scope:b,ownerState:k},y))}),yt=re(o.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Ct=re(o.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Pt=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],jt=u.forwardRef(function(t,s){var n,r,a,i,l,p,h,d;const{backIconButtonProps:f,count:y,disabled:g=!1,getItemAriaLabel:m,nextIconButtonProps:M,onPageChange:x,page:b,rowsPerPage:j,showFirstButton:k,showLastButton:_,slots:R={},slotProps:v={}}=t,te=$(t,Pt),C=Le(),oe=D=>{x(D,0)},se=D=>{x(D,b-1)},O=D=>{x(D,b+1)},T=D=>{x(D,Math.max(0,Math.ceil(y/j)-1))},w=(n=R.firstButton)!=null?n:U,E=(r=R.lastButton)!=null?r:U,W=(a=R.nextButton)!=null?a:U,Q=(i=R.previousButton)!=null?i:U,G=(l=R.firstButtonIcon)!=null?l:qe,J=(p=R.lastButtonIcon)!=null?p:Ye,B=(h=R.nextButtonIcon)!=null?h:Ct,le=(d=R.previousButtonIcon)!=null?d:yt,Te=C?E:w,we=C?W:Q,Be=C?Q:W,Ie=C?w:E,Se=C?v.lastButton:v.firstButton,ie=C?v.nextButton:v.previousButton,ce=C?v.previousButton:v.nextButton,ke=C?v.firstButton:v.lastButton;return o.jsxs("div",c({ref:s},te,{children:[k&&o.jsx(Te,c({onClick:oe,disabled:g||b===0,"aria-label":m("first",b),title:m("first",b)},Se,{children:C?o.jsx(J,c({},v.lastButtonIcon)):o.jsx(G,c({},v.firstButtonIcon))})),o.jsx(we,c({onClick:se,disabled:g||b===0,color:"inherit","aria-label":m("previous",b),title:m("previous",b)},ie??f,{children:C?o.jsx(B,c({},v.nextButtonIcon)):o.jsx(le,c({},v.previousButtonIcon))})),o.jsx(Be,c({onClick:O,disabled:g||(y!==-1?b>=Math.ceil(y/j)-1:!1),color:"inherit","aria-label":m("next",b),title:m("next",b)},ce??M,{children:C?o.jsx(le,c({},v.previousButtonIcon)):o.jsx(B,c({},v.nextButtonIcon))})),_&&o.jsx(Ie,c({onClick:T,disabled:g||b>=Math.ceil(y/j)-1,"aria-label":m("last",b),title:m("last",b)},ke,{children:C?o.jsx(G,c({},v.firstButtonIcon)):o.jsx(J,c({},v.lastButtonIcon))}))]}))});function Rt(e){return N("MuiTablePagination",e)}const K=A("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var xe;const Tt=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],wt=P(I,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}})),Bt=P(ye,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>c({[`& .${K.actions}`]:t.actions},t.toolbar)})(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${K.actions}`]:{flexShrink:0,marginLeft:20}})),It=P("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),St=P("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(({theme:e})=>c({},e.typography.body2,{flexShrink:0})),kt=P(Je,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>c({[`& .${K.selectIcon}`]:t.selectIcon,[`& .${K.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${K.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),$t=P(ne,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),Mt=P("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(({theme:e})=>c({},e.typography.body2,{flexShrink:0}));function Lt({from:e,to:t,count:s}){return`${e}–${t} of ${s!==-1?s:`more than ${t}`}`}function Nt(e){return`Go to ${e} page`}const At=e=>{const{classes:t}=e;return z({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Rt,t)},Ht=u.forwardRef(function(t,s){var n;const r=H({props:t,name:"MuiTablePagination"}),{ActionsComponent:a=jt,backIconButtonProps:i,className:l,colSpan:p,component:h=I,count:d,disabled:f=!1,getItemAriaLabel:y=Nt,labelDisplayedRows:g=Lt,labelRowsPerPage:m="Rows per page:",nextIconButtonProps:M,onPageChange:x,onRowsPerPageChange:b,page:j,rowsPerPage:k,rowsPerPageOptions:_=[10,25,50,100],SelectProps:R={},showFirstButton:v=!1,showLastButton:te=!1,slotProps:C={},slots:oe={}}=r,se=$(r,Tt),O=r,T=At(O),w=(n=C==null?void 0:C.select)!=null?n:R,E=w.native?"option":$t;let W;(h===I||h==="td")&&(W=p||1e3);const Q=de(w.id),G=de(w.labelId),J=()=>d===-1?(j+1)*k:k===-1?d:Math.min(d,(j+1)*k);return o.jsx(wt,c({colSpan:W,ref:s,as:h,ownerState:O,className:S(T.root,l)},se,{children:o.jsxs(Bt,{className:T.toolbar,children:[o.jsx(It,{className:T.spacer}),_.length>1&&o.jsx(St,{className:T.selectLabel,id:G,children:m}),_.length>1&&o.jsx(kt,c({variant:"standard"},!w.variant&&{input:xe||(xe=o.jsx(Ne,{}))},{value:k,onChange:b,id:Q,labelId:G},w,{classes:c({},w.classes,{root:S(T.input,T.selectRoot,(w.classes||{}).root),select:S(T.select,(w.classes||{}).select),icon:S(T.selectIcon,(w.classes||{}).icon)}),disabled:f,children:_.map(B=>u.createElement(E,c({},!Ae(E)&&{ownerState:O},{className:T.menuItem,key:B.label?B.label:B,value:B.value?B.value:B}),B.label?B.label:B))})),o.jsx(Mt,{className:T.displayedRows,children:g({from:d===0?0:j*k+1,to:J(),count:d===-1?-1:d,page:j})}),o.jsx(a,{className:T.actions,backIconButtonProps:i,count:d,nextIconButtonProps:M,onPageChange:x,page:j,rowsPerPage:k,showFirstButton:v,showLastButton:te,slotProps:C.actions,slots:oe.actions,getItemAriaLabel:y,disabled:f})]})}))});function zt(e){return N("MuiTableRow",e)}const he=A("MuiTableRow",["root","selected","hover","head","footer"]),_t=["className","component","hover","selected"],Dt=e=>{const{classes:t,selected:s,hover:n,head:r,footer:a}=e;return z({root:["root",s&&"selected",n&&"hover",r&&"head",a&&"footer"]},zt,t)},Ut=P("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.head&&t.head,s.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${he.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${he.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:X(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:X(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),fe="tr",ee=u.forwardRef(function(t,s){const n=H({props:t,name:"MuiTableRow"}),{className:r,component:a=fe,hover:i=!1,selected:l=!1}=n,p=$(n,_t),h=u.useContext(Z),d=c({},n,{component:a,hover:i,selected:l,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),f=Dt(d);return o.jsx(Ut,c({as:a,ref:s,className:S(f.root,r),role:a===fe?null:"row",ownerState:d},p))});function Ft({searchQuery:e,...t}){return o.jsx(ee,{...t,children:o.jsx(I,{align:"center",colSpan:7,children:o.jsxs(Y,{sx:{py:15,textAlign:"center"},children:[o.jsx(q,{variant:"h6",sx:{mb:1},children:"Not found"}),o.jsxs(q,{variant:"body2",children:["No results found for  ",o.jsxs("strong",{children:['"',e,'"']}),".",o.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}function Ot({row:e,selected:t,onSelectRow:s}){const[n,r]=u.useState(null),a=u.useCallback(g=>{r(g.currentTarget)},[]),i=u.useCallback(()=>{r(null)},[]),[l,p]=u.useState([]),[h,d]=u.useState(""),f=async()=>{try{const g=await Ce.get(`${Pe}/api/v1/roles`,{withCredentials:!0});console.log("DATA",g.data),p(g.data)}catch{d("Acceso no autorizado.")}};u.useEffect(()=>{f()},[]);const y=l.reduce((g,m)=>(g[m.id]=m.nombre,g),{});return o.jsxs(o.Fragment,{children:[o.jsxs(ee,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,children:[o.jsx(I,{padding:"checkbox",children:o.jsx(je,{disableRipple:!0,checked:t,onChange:s})}),o.jsx(I,{component:"th",scope:"row",children:o.jsx(Y,{gap:2,display:"flex",alignItems:"center",children:e.nombre})}),o.jsx(I,{children:e.correo}),o.jsx(I,{children:y[e.rol_id]}),o.jsx(I,{align:"right",children:o.jsx(U,{onClick:a,children:o.jsx(F,{icon:"eva:more-vertical-fill"})})})]}),o.jsx(He,{open:!!n,anchorEl:n,onClose:i,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:o.jsxs(ze,{disablePadding:!0,sx:{p:.5,gap:.5,width:140,display:"flex",flexDirection:"column",[`& .${ue.root}`]:{px:1,gap:2,borderRadius:.75,[`&.${ue.selected}`]:{bgcolor:"action.selected"}}},children:[o.jsxs(ne,{onClick:i,children:[o.jsx(F,{icon:"solar:pen-bold"}),"Edit"]}),o.jsxs(ne,{onClick:i,sx:{color:"error.main"},children:[o.jsx(F,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})})]})}function Et(e){return N("MuiTableHead",e)}A("MuiTableHead",["root"]);const Wt=["className","component"],Gt=e=>{const{classes:t}=e;return z({root:["root"]},Et,t)},Kt=P("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Qt={variant:"head"},me="thead",Jt=u.forwardRef(function(t,s){const n=H({props:t,name:"MuiTableHead"}),{className:r,component:a=me}=n,i=$(n,Wt),l=c({},n,{component:a}),p=Gt(l);return o.jsx(Z.Provider,{value:Qt,children:o.jsx(Kt,c({as:a,className:S(p.root,r),ref:s,role:a===me?null:"rowgroup",ownerState:l},i))})}),Vt=re(o.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function Xt(e){return N("MuiTableSortLabel",e)}const ae=A("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),qt=["active","children","className","direction","hideSortIcon","IconComponent"],Yt=e=>{const{classes:t,direction:s,active:n}=e,r={root:["root",n&&"active"],icon:["icon",`iconDirection${L(s)}`]};return z(r,Xt,t)},Zt=P(_e,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.active&&t.active]}})(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${ae.icon}`]:{opacity:.5}},[`&.${ae.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${ae.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}})),eo=P("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.icon,t[`iconDirection${L(s.direction)}`]]}})(({theme:e,ownerState:t})=>c({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none"},t.direction==="desc"&&{transform:"rotate(0deg)"},t.direction==="asc"&&{transform:"rotate(180deg)"})),to=u.forwardRef(function(t,s){const n=H({props:t,name:"MuiTableSortLabel"}),{active:r=!1,children:a,className:i,direction:l="asc",hideSortIcon:p=!1,IconComponent:h=Vt}=n,d=$(n,qt),f=c({},n,{active:r,direction:l,hideSortIcon:p,IconComponent:h}),y=Yt(f);return o.jsxs(Zt,c({className:S(y.root,i),component:"span",disableRipple:!0,ownerState:f,ref:s},d,{children:[a,p&&!r?null:o.jsx(eo,{as:h,className:S(y.icon),ownerState:f})]}))}),oo={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function so(e,t,s){return e?Math.max(0,(1+e)*t-s):0}function ve(e,t,s){return t[s]<e[s]?-1:t[s]>e[s]?1:0}function ao(e,t){return e==="desc"?(s,n)=>ve(s,n,t):(s,n)=>-ve(s,n,t)}function no({inputData:e,comparator:t,filterName:s}){const n=e.map((r,a)=>[r,a]);return n.sort((r,a)=>{const i=t(r[0],a[0]);return i!==0?i:r[1]-a[1]}),e=n.map(r=>r[0]),s&&(e=e.filter(r=>r.nombre.toLowerCase().indexOf(s.toLowerCase())!==-1)),e}function ro({order:e,onSort:t,orderBy:s,rowCount:n,headLabel:r,numSelected:a,onSelectAllRows:i}){return o.jsx(Jt,{children:o.jsxs(ee,{children:[o.jsx(I,{padding:"checkbox",children:o.jsx(je,{indeterminate:a>0&&a<n,checked:n>0&&a===n,onChange:l=>i(l.target.checked)})}),r.map(l=>o.jsx(I,{align:l.align||"left",sortDirection:s===l.id?e:!1,sx:{width:l.width,minWidth:l.minWidth},children:o.jsxs(to,{hideSortIcon:!0,active:s===l.id,direction:s===l.id?e:"asc",onClick:()=>t(l.id),children:[l.label,s===l.id?o.jsx(Y,{sx:{...oo},children:e==="desc"?"sorted descending":"sorted ascending"}):null]})},l.id))]})})}function lo({emptyRows:e,height:t,sx:s,...n}){return e?o.jsx(ee,{sx:{...t&&{height:t*e},...s},...n,children:o.jsx(I,{colSpan:9})}):null}function io({numSelected:e,filterName:t,onFilterName:s}){return o.jsxs(ye,{sx:{height:96,display:"flex",justifyContent:"space-between",p:n=>n.spacing(0,1,0,3),...e>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[e>0?o.jsxs(q,{component:"div",variant:"subtitle1",children:[e," selected"]}):o.jsx(Ve,{fullWidth:!0,value:t,onChange:s,placeholder:"Buscar usuario...",startAdornment:o.jsx(De,{position:"start",children:o.jsx(F,{width:20,icon:"eva:search-fill",sx:{color:"text.disabled"}})}),sx:{maxWidth:320}}),e>0?o.jsx(pe,{title:"Delete",children:o.jsx(U,{children:o.jsx(F,{icon:"solar:trash-bin-trash-bold"})})}):o.jsx(pe,{title:"Filter list",children:o.jsx(U,{children:o.jsx(F,{icon:"ic:round-filter-list"})})})]})}function co(){const[e,t]=u.useState([]),[s,n]=u.useState(""),r=async()=>{try{const d=await Ce.get(`${Pe}/api/v1/auth/users`,{withCredentials:!0});t(d.data)}catch{n("Acceso no autorizado.")}};u.useEffect(()=>{r()},[]);const a=uo(),[i,l]=u.useState(""),p=no({inputData:e,comparator:ao(a.order,a.orderBy),filterName:i}),h=!p.length&&!!i;return o.jsxs(Ue,{children:[o.jsxs(Y,{display:"flex",alignItems:"center",mb:5,children:[o.jsx(q,{variant:"h4",flexGrow:1,children:"Usuarios"}),o.jsx(Fe,{variant:"contained",color:"inherit",startIcon:o.jsx(F,{icon:"mingcute:add-line"}),component:Oe,to:"/user/crear",children:"Crear usuario"})]}),o.jsxs(Xe,{children:[o.jsx(io,{numSelected:a.selected.length,filterName:i,onFilterName:d=>{l(d.target.value),a.onResetPage()}}),o.jsx(Ee,{children:o.jsx(bt,{sx:{overflow:"unset"},children:o.jsxs(st,{sx:{minWidth:800},children:[o.jsx(ro,{order:a.order,orderBy:a.orderBy,rowCount:V.length,numSelected:a.selected.length,onSort:a.onSort,onSelectAllRows:d=>a.onSelectAllRows(d,V.map(f=>f.id)),headLabel:[{id:"nombre",label:"Nombre"},{id:"correo",label:"Email"},{id:"rol_id",label:"Rol"},{id:""}]}),o.jsxs(ct,{children:[p.slice(a.page*a.rowsPerPage,a.page*a.rowsPerPage+a.rowsPerPage).map(d=>o.jsx(Ot,{row:d,selected:a.selected.includes(d.id),onSelectRow:()=>a.onSelectRow(d.id)},d.id)),o.jsx(lo,{height:68,emptyRows:so(a.page,a.rowsPerPage,V.length)}),h&&o.jsx(Ft,{searchQuery:i})]})]})})}),o.jsx(Ht,{component:"div",page:a.page,count:V.length,rowsPerPage:a.rowsPerPage,onPageChange:a.onChangePage,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:a.onChangeRowsPerPage})]})]})}function uo(){const[e,t]=u.useState(0),[s,n]=u.useState("name"),[r,a]=u.useState(5),[i,l]=u.useState([]),[p,h]=u.useState("asc"),d=u.useCallback(x=>{h(s===x&&p==="asc"?"desc":"asc"),n(x)},[p,s]),f=u.useCallback((x,b)=>{if(x){l(b);return}l([])},[]),y=u.useCallback(x=>{const b=i.includes(x)?i.filter(j=>j!==x):[...i,x];l(b)},[i]),g=u.useCallback(()=>{t(0)},[]),m=u.useCallback((x,b)=>{t(b)},[]),M=u.useCallback(x=>{a(parseInt(x.target.value,10)),g()},[g]);return{page:e,order:p,onSort:d,orderBy:s,selected:i,rowsPerPage:r,onSelectRow:y,onResetPage:g,onChangePage:m,onSelectAllRows:f,onChangeRowsPerPage:M}}function mo(){const e=We(),t=e.pathname.includes("/crear")||e.pathname.includes("/editar");return o.jsxs(o.Fragment,{children:[o.jsx(Ge,{children:o.jsxs("title",{children:[" ",`Users - ${Qe.appName}`]})}),!t&&o.jsx(co,{}),o.jsx(Ke,{})]})}export{mo as default};
